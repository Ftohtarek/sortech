"use strict";(self.webpackChunksortech=self.webpackChunksortech||[]).push([[307],{307:(Ce,W,m)=>{m.r(W),m.d(W,{CrmManagmentModule:()=>we});var o=m(5879),_=m(6814),O=m(5541),x=m(2831),b=m(2495),$=m(6034),h=m(8645),w=m(7394),Et=m(6321),kt=m(4825),At=m(927),J=m(5592),A=m(3019),T=m(9773),zt=m(7398),K=m(8180),z=m(7921),Ft=m(9397),Lt=m(4664),Q=m(9388);function F(a,t,n){for(let e in t)if(t.hasOwnProperty(e)){const i=t[e];i?a.setProperty(e,i,n?.has(e)?"important":""):a.removeProperty(e)}return a}function D(a,t){const n=t?"":"none";F(a.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function X(a,t,n){F(a.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},n)}function I(a,t){return t&&"none"!=t?a+" "+t:a}function tt(a){const t=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*t}function L(a,t){return a.getPropertyValue(t).split(",").map(e=>e.trim())}function Z(a){const t=a.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function B(a,t,n){const{top:e,bottom:i,left:r,right:s}=a;return n>=e&&n<=i&&t>=r&&t<=s}function P(a,t,n){a.top+=t,a.bottom=a.top+a.height,a.left+=n,a.right=a.left+a.width}function et(a,t,n,e){const{top:i,right:r,bottom:s,left:c,width:d,height:l}=a,p=d*t,u=l*t;return e>i-u&&e<s+u&&n>c-p&&n<r+p}class it{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:Z(n)})})}handleScroll(t){const n=(0,x.sA)(t),e=this.positions.get(n);if(!e)return null;const i=e.scrollPosition;let r,s;if(n===this._document){const l=this.getViewportScrollPosition();r=l.top,s=l.left}else r=n.scrollTop,s=n.scrollLeft;const c=i.top-r,d=i.left-s;return this.positions.forEach((l,p)=>{l.clientRect&&n!==p&&n.contains(p)&&P(l.clientRect,c,d)}),i.top=r,i.left=s,{top:c,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function nt(a){const t=a.cloneNode(!0),n=t.querySelectorAll("[id]"),e=a.nodeName.toLowerCase();t.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===e?rt(a,t):("input"===e||"select"===e||"textarea"===e)&&at(a,t),ot("canvas",a,t,rt),ot("input, textarea, select",a,t,at),t}function ot(a,t,n,e){const i=t.querySelectorAll(a);if(i.length){const r=n.querySelectorAll(a);for(let s=0;s<i.length;s++)e(i[s],r[s])}}let Bt=0;function at(a,t){"file"!==t.type&&(t.value=a.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Bt++}`)}function rt(a,t){const n=t.getContext("2d");if(n)try{n.drawImage(a,0,0)}catch{}}const st=(0,x.i$)({passive:!0}),R=(0,x.i$)({passive:!1}),N=new Set(["position"]);class jt{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const n=(0,b.Ig)(t);n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>D(e,n)))}constructor(t,n,e,i,r,s){this._config=n,this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new h.x,this._pointerMoveSubscription=w.w0.EMPTY,this._pointerUpSubscription=w.w0.EMPTY,this._scrollSubscription=w.w0.EMPTY,this._resizeSubscription=w.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new h.x,this.started=new h.x,this.released=new h.x,this.ended=new h.x,this.entered=new h.x,this.exited=new h.x,this.dropped=new h.x,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const d=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(d.x-this._pickupPositionOnPage.x)+Math.abs(d.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const v=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),y=this._dropContainer;if(!v)return void this._endDragSequence(c);(!y||!y.isDragging()&&!y.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}c.preventDefault();const l=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(l),this._dropContainer)this._updateActiveDropContainer(l,d);else{const p=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,u=this._activeTransform;u.x=l.x-p.x+this._passiveTransform.x,u.y=l.y-p.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:l,event:c,distance:this._getDragDistance(l),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this._nativeDragStart=c=>{if(this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&c.preventDefault()}else this.disabled||c.preventDefault()},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new it(e),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(e=>(0,b.fI)(e)),this._handles.forEach(e=>D(e,this.disabled)),this._toggleNativeDragInteractions();const n=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&n.add(e)}),this._disabledHandles=n,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const n=(0,b.fI)(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,R),n.addEventListener("touchstart",this._pointerDown,st),n.addEventListener("dragstart",this._nativeDragStart,R)}),this._initialTransform=void 0,this._rootElement=n),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?(0,b.fI)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),D(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),D(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const n=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){C(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const n=this._dropContainer;if(n){const e=this._rootElement,i=e.parentNode,r=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();i.insertBefore(s,e),this._initialTransform=e.style.transform||"",this._preview=this._createPreviewElement(),X(e,!1,N),this._document.body.appendChild(i.replaceChild(r,e)),this._getPreviewInsertionPoint(i,c).appendChild(this._preview),this.started.next({source:this,event:t}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(t,n){this._parentDragRef&&n.stopPropagation();const e=this.isDragging(),i=C(n),r=!i&&0!==n.button,s=this._rootElement,c=(0,x.sA)(n),d=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),l=i?(0,$.yG)(n):(0,$.X6)(n);if(c&&c.draggable&&"mousedown"===n.type&&n.preventDefault(),e||r||d||l)return;if(this._handles.length){const f=s.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=Z(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,n);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(t){X(this._rootElement,!0,N),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const n=this._dropContainer,e=n.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(i),s=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r,dropPoint:i,event:t}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r,dropPoint:i,event:t}),n.drop(this,e,this._initialIndex,this._initialContainer,s,r,i,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:n},{x:e,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,n);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,n)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,n,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,i),this._dropContainer._sortItem(this,t,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,n):this._applyPreviewTransform(t-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,n=this.previewClass,e=t?t.template:null;let i;if(e&&t){const r=t.matchSize?this._initialClientRect:null,s=t.viewContainer.createEmbeddedView(e,t.context);s.detectChanges(),i=dt(s,this._document),this._previewRef=s,t.matchSize?lt(i,r):i.style.transform=E(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=nt(this._rootElement),lt(i,this._initialClientRect),this._initialTransform&&(i.style.transform=this._initialTransform);return F(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},N),D(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(r=>i.classList.add(r)):i.classList.add(n)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const n=function Zt(a){const t=getComputedStyle(a),n=L(t,"transition-property"),e=n.find(c=>"transform"===c||"all"===c);if(!e)return 0;const i=n.indexOf(e),r=L(t,"transition-duration"),s=L(t,"transition-delay");return tt(r[i])+tt(s[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const i=s=>{(!s||(0,x.sA)(s)===this._preview&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",i),e(),clearTimeout(r))},r=setTimeout(i,1.5*n);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,n=t?t.template:null;let e;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),e=dt(this._placeholderRef,this._document)):e=nt(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(t,n,e){const i=n===this._rootElement?null:n,r=i?i.getBoundingClientRect():t,s=C(e)?e.targetTouches[0]:e,c=this._getViewportScrollPosition();return{x:r.left-t.left+(s.pageX-r.left-c.left),y:r.top-t.top+(s.pageY-r.top-c.top)}}_getPointerPositionOnPage(t){const n=this._getViewportScrollPosition(),e=C(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=e.pageX-n.left,r=e.pageY-n.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const c=this._ownerSVGElement.createSVGPoint();return c.x=i,c.y=r,c.matrixTransform(s.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(t){const n=this._dropContainer?this._dropContainer.lockAxis:null;let{x:e,y:i}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===n?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===n)&&(e=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:s}=this._pickupPositionInElement,c=this._boundaryRect,{width:d,height:l}=this._getPreviewRect(),p=c.top+s,u=c.bottom-(l-s);e=ct(e,c.left+r,c.right-(d-r)),i=ct(i,p,u)}return{x:e,y:i}}_updatePointerDirectionDelta(t){const{x:n,y:e}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(n-r.x),c=Math.abs(e-r.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=n>r.x?1:-1,r.x=n),c>this._config.pointerDirectionChangeThreshold&&(i.y=e>r.y?1:-1,r.y=e),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,D(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,R),t.removeEventListener("touchstart",this._pointerDown,st),t.removeEventListener("dragstart",this._nativeDragStart,R)}_applyRootElementTransform(t,n){const e=E(t,n),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=I(e,this._initialTransform)}_applyPreviewTransform(t,n){const e=this._previewTemplate?.template?void 0:this._initialTransform,i=E(t,n);this._preview.style.transform=I(i,e)}_getDragDistance(t){const n=this._pickupPositionOnPage;return n?{x:t.x-n.x,y:t.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:n}=this._passiveTransform;if(0===t&&0===n||this.isDragging()||!this._boundaryElement)return;const e=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===e.width&&0===e.height)return;const r=i.left-e.left,s=e.right-i.right,c=i.top-e.top,d=e.bottom-i.bottom;i.width>e.width?(r>0&&(t+=r),s>0&&(t-=s)):t=0,i.height>e.height?(c>0&&(n+=c),d>0&&(n-=d)):n=0,(t!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:t})}_getDragStartDelay(t){const n=this.dragStartDelay;return"number"==typeof n?n:C(t)?n.touch:n?n.mouse:0}_updateOnScroll(t){const n=this._parentPositions.handleScroll(t);if(n){const e=(0,x.sA)(t);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&P(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,x.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,n){const e=this._previewContainer||"global";if("parent"===e)return t;if("global"===e){const i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return(0,b.fI)(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(n=>t.target&&(t.target===n||n.contains(t.target)))}}function E(a,t){return`translate3d(${Math.round(a)}px, ${Math.round(t)}px, 0)`}function ct(a,t,n){return Math.max(t,Math.min(n,a))}function C(a){return"t"===a.type[0]}function dt(a,t){const n=a.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const e=t.createElement("div");return n.forEach(i=>e.appendChild(i)),e}function lt(a,t){a.style.width=`${t.width}px`,a.style.height=`${t.height}px`,a.style.transform=E(t.left,t.top)}function mt(a,t,n){const e=S(t,a.length-1),i=S(n,a.length-1);if(e===i)return;const r=a[e],s=i<e?-1:1;for(let c=e;c!==i;c+=s)a[c]=a[c+s];a[i]=r}function S(a,t){return Math.max(0,Math.min(t,a))}class Ut{constructor(t,n){this._element=t,this._dragDropRegistry=n,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,n,e,i){const r=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,n,e,i);if(-1===s&&r.length>0)return null;const c="horizontal"===this.orientation,d=r.findIndex(g=>g.drag===t),l=r[s],u=l.clientRect,f=d>s?1:-1,v=this._getItemOffsetPx(r[d].clientRect,u,f),y=this._getSiblingOffsetPx(d,r,f),Y=r.slice();return mt(r,d,s),r.forEach((g,Pe)=>{if(Y[Pe]===g)return;const It=g.drag===t,q=It?v:y,Rt=It?t.getPlaceholderElement():g.drag.getRootElement();g.offset+=q,c?(Rt.style.transform=I(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),P(g.clientRect,0,q)):(Rt.style.transform=I(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),P(g.clientRect,q,0))}),this._previousSwap.overlaps=B(u,n,e),this._previousSwap.drag=l.drag,this._previousSwap.delta=c?i.x:i.y,{previousIndex:d,currentIndex:s}}enter(t,n,e,i){const r=null==i||i<0?this._getItemIndexFromPointerPosition(t,n,e):i,s=this._activeDraggables,c=s.indexOf(t),d=t.getPlaceholderElement();let l=s[r];if(l===t&&(l=s[r+1]),!l&&(null==r||-1===r||r<s.length-1)&&this._shouldEnterAsFirstChild(n,e)&&(l=s[0]),c>-1&&s.splice(c,1),l&&!this._dragDropRegistry.isDragging(l)){const p=l.getRootElement();p.parentElement.insertBefore(d,p),s.splice(r,0,t)}else(0,b.fI)(this._element).appendChild(d),s.push(t);d.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const n=t.getRootElement();if(n){const e=this._itemPositions.find(i=>i.drag===t)?.initialTransform;n.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===t)}updateOnScroll(t,n){this._itemPositions.forEach(({clientRect:e})=>{P(e,t,n)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(n=>{const e=n.getVisibleElement();return{drag:n,offset:0,initialTransform:e.style.transform||"",clientRect:Z(e)}}).sort((n,e)=>t?n.clientRect.left-e.clientRect.left:n.clientRect.top-e.clientRect.top)}_getItemOffsetPx(t,n,e){const i="horizontal"===this.orientation;let r=i?n.left-t.left:n.top-t.top;return-1===e&&(r+=i?n.width-t.width:n.height-t.height),r}_getSiblingOffsetPx(t,n,e){const i="horizontal"===this.orientation,r=n[t].clientRect,s=n[t+-1*e];let c=r[i?"width":"height"]*e;if(s){const d=i?"left":"top",l=i?"right":"bottom";-1===e?c-=s.clientRect[d]-r[l]:c+=r[d]-s.clientRect[l]}return c}_shouldEnterAsFirstChild(t,n){if(!this._activeDraggables.length)return!1;const e=this._itemPositions,i="horizontal"===this.orientation;if(e[0].drag!==this._activeDraggables[0]){const s=e[e.length-1].clientRect;return i?t>=s.right:n>=s.bottom}{const s=e[0].clientRect;return i?t<=s.left:n<=s.top}}_getItemIndexFromPointerPosition(t,n,e,i){const r="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:c,clientRect:d})=>c!==t&&((!i||c!==this._previousSwap.drag||!this._previousSwap.overlaps||(r?i.x:i.y)!==this._previousSwap.delta)&&(r?n>=Math.floor(d.left)&&n<Math.floor(d.right):e>=Math.floor(d.top)&&e<Math.floor(d.bottom))));return-1!==s&&this._sortPredicate(s,t)?s:-1}}class Gt{constructor(t,n,e,i,r){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new h.x,this.entered=new h.x,this.exited=new h.x,this.dropped=new h.x,this.sorted=new h.x,this.receivingStarted=new h.x,this.receivingStopped=new h.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=w.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new h.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Ot(a=0,t=Et.z){return a<0&&(a=0),(0,kt.H)(a,a,t)}(0,At.Z).pipe((0,T.R)(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-c):2===this._verticalScrollDirection&&s.scrollBy(0,c),1===this._horizontalScrollDirection?s.scrollBy(-c,0):2===this._horizontalScrollDirection&&s.scrollBy(c,0)})},this.element=(0,b.fI)(t),this._document=e,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new it(e),this._sortStrategy=new Ut(this.element,n),this._sortStrategy.withSortPredicate((s,c)=>this.sortPredicate(s,c,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,n,e,i){this._draggingStarted(),null==i&&this.sortingDisabled&&(i=this._draggables.indexOf(t)),this._sortStrategy.enter(t,n,e,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,n,e,i,r,s,c,d={}){this._reset(),this.dropped.next({item:t,currentIndex:n,previousIndex:e,container:this,previousContainer:i,isPointerOverContainer:r,distance:s,dropPoint:c,event:d})}withItems(t){const n=this._draggables;return this._draggables=t,t.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>-1===t.indexOf(i))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const n=(0,b.fI)(this.element);return this._scrollableElements=-1===t.indexOf(n)?[n,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,n,e,i){if(this.sortingDisabled||!this._clientRect||!et(this._clientRect,.05,n,e))return;const r=this._sortStrategy.sort(t,n,e,i);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,n){if(this.autoScrollDisabled)return;let e,i=0,r=0;if(this._parentPositions.positions.forEach((s,c)=>{c===this._document||!s.clientRect||e||et(s.clientRect,.05,t,n)&&([i,r]=function Vt(a,t,n,e){const i=bt(t,e),r=ht(t,n);let s=0,c=0;if(i){const d=a.scrollTop;1===i?d>0&&(s=1):a.scrollHeight-d>a.clientHeight&&(s=2)}if(r){const d=a.scrollLeft;1===r?d>0&&(c=1):a.scrollWidth-d>a.clientWidth&&(c=2)}return[s,c]}(c,s.clientRect,t,n),(i||r)&&(e=c))}),!i&&!r){const{width:s,height:c}=this._viewportRuler.getViewportSize(),d={width:s,height:c,top:0,right:s,bottom:c,left:0};i=bt(d,n),r=ht(d,t),e=window}e&&(i!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=e,(i||r)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=(0,b.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=(0,b.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=(0,b.fI)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,n){return null!=this._clientRect&&B(this._clientRect,t,n)}_getSiblingContainerFromPosition(t,n,e){return this._siblings.find(i=>i._canReceive(t,n,e))}_canReceive(t,n,e){if(!this._clientRect||!B(this._clientRect,n,e)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(n,e);if(!i)return!1;const r=(0,b.fI)(this.element);return i===r||r.contains(i)}_startReceiving(t,n){const e=this._activeSiblings;!e.has(t)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:n}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const n=this._parentPositions.handleScroll(t);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=(0,x.kV)((0,b.fI)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,t))}}function bt(a,t){const{top:n,bottom:e,height:i}=a,r=.05*i;return t>=n-r&&t<=n+r?1:t>=e-r&&t<=e+r?2:0}function ht(a,t){const{left:n,right:e,width:i}=a,r=.05*i;return t>=n-r&&t<=n+r?1:t>=e-r&&t<=e+r?2:0}const k=(0,x.i$)({passive:!1,capture:!0});let Yt=(()=>{var a;class t{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new h.x,this.pointerUp=new h.x,this.scroll=new h.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,k)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,k)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:k}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:k}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,c)=>{this._document.addEventListener(c,s.handler,s.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new J.y(r=>this._ngZone.runOutsideAngular(()=>{const c=d=>{this._activeDragInstances.length&&r.next(d)};return e.addEventListener("scroll",c,!0),()=>{e.removeEventListener("scroll",c,!0)}}))),(0,A.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return(a=t).\u0275fac=function(e){return new(e||a)(o.LFG(o.R0b),o.LFG(_.K0))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})();const qt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let j=(()=>{var a;class t{constructor(e,i,r,s){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(e,i=qt){return new jt(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Gt(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return(a=t).\u0275fac=function(e){return new(e||a)(o.LFG(_.K0),o.LFG(o.R0b),o.LFG(O.rL),o.LFG(Yt))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})();const H=new o.OlP("CDK_DRAG_PARENT"),U=new o.OlP("CdkDragHandle"),gt=new o.OlP("CdkDragPlaceholder");let ft=(()=>{var a;class t{constructor(e){this.templateRef=e}}return(a=t).\u0275fac=function(e){return new(e||a)(o.Y36(o.Rgc))},a.\u0275dir=o.lG2({type:a,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},standalone:!0,features:[o._Bn([{provide:gt,useExisting:a}])]}),t})();const _t=new o.OlP("CdkDragPreview");let xt=(()=>{var a;class t{get matchSize(){return this._matchSize}set matchSize(e){this._matchSize=(0,b.Ig)(e)}constructor(e){this.templateRef=e,this._matchSize=!1}}return(a=t).\u0275fac=function(e){return new(e||a)(o.Y36(o.Rgc))},a.\u0275dir=o.lG2({type:a,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:"matchSize"},standalone:!0,features:[o._Bn([{provide:_t,useExisting:a}])]}),t})();const vt=new o.OlP("CDK_DRAG_CONFIG"),yt=new o.OlP("CdkDropList");let Dt=(()=>{var a;class t{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,b.Ig)(e),this._dragRef.disabled=this._disabled}constructor(e,i,r,s,c,d,l,p,u,f,v){this.element=e,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=c,this._dir=l,this._changeDetectorRef=u,this._selfHandle=f,this._parentDrag=v,this._destroyed=new h.x,this.started=new o.vpe,this.released=new o.vpe,this.ended=new o.vpe,this.entered=new o.vpe,this.exited=new o.vpe,this.dropped=new o.vpe,this.moved=new J.y(y=>{const Y=this._dragRef.moved.pipe((0,zt.U)(g=>({source:this,pointerPosition:g.pointerPosition,event:g.event,delta:g.delta,distance:g.distance}))).subscribe(y);return()=>{Y.unsubscribe()}}),this._dragRef=p.createDrag(e,{dragStartThreshold:d&&null!=d.dragStartThreshold?d.dragStartThreshold:5,pointerDirectionChangeThreshold:d&&null!=d.pointerDirectionChangeThreshold?d.pointerDirectionChangeThreshold:5,zIndex:d?.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),d&&this._assignDefaults(d),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,K.q)(1),(0,T.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,b.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,c=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:(0,b.su)(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(c).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe((0,K.q)(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(t._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:s,previewClass:c,boundaryElement:d,draggingDisabled:l,rootElementSelector:p,previewContainer:u}=e;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),c&&(this.previewClass=c),d&&(this.boundaryElement=d),p&&(this.rootElementSelector=p),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.changes.pipe((0,z.O)(this._handles),(0,Ft.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,Lt.w)(e=>(0,A.T)(...e.map(i=>i._stateChanges.pipe((0,z.O)(i))))),(0,T.R)(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return(a=t)._dragInstances=[],a.\u0275fac=function(e){return new(e||a)(o.Y36(o.SBq),o.Y36(yt,12),o.Y36(_.K0),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(vt,8),o.Y36(Q.Is,8),o.Y36(j),o.Y36(o.sBO),o.Y36(U,10),o.Y36(H,12))},a.\u0275dir=o.lG2({type:a,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,_t,5),o.Suo(r,gt,5),o.Suo(r,U,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._previewTemplate=s.first),o.iGM(s=o.CRH())&&(i._placeholderTemplate=s.first),o.iGM(s=o.CRH())&&(i._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[o._Bn([{provide:H,useExisting:a}]),o.TTD]}),t})();const G=new o.OlP("CdkDropListGroup");let wt=(()=>{var a;class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,b.Ig)(e)}ngOnDestroy(){this._items.clear()}}return(a=t).\u0275fac=function(e){return new(e||a)},a.\u0275dir=o.lG2({type:a,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],standalone:!0,features:[o._Bn([{provide:G,useExisting:a}])]}),t})(),Jt=0,Pt=(()=>{var a;class t{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,b.Ig)(e)}constructor(e,i,r,s,c,d,l){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=c,this._group=d,this._destroyed=new h.x,this.connectedTo=[],this.id="cdk-drop-list-"+Jt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new o.vpe,this.entered=new o.vpe,this.exited=new o.vpe,this.sorted=new o.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(p,u)=>this.enterPredicate(p.data,u.data),this._dropListRef.sortPredicate=(p,u,f)=>this.sortPredicate(p,u.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),d&&d._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,z.O)(this._dir.value),(0,T.R)(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=(0,b.Eq)(this.connectedTo).map(r=>"string"==typeof r?t._dropLists.find(c=>c.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=(0,b.Ig)(this.sortingDisabled),e.autoScrollDisabled=(0,b.Ig)(this.autoScrollDisabled),e.autoScrollStep=(0,b.su)(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),(0,A.T)(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:c,listOrientation:d}=e;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=c??!1,this.orientation=d||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return(a=t)._dropLists=[],a.\u0275fac=function(e){return new(e||a)(o.Y36(o.SBq),o.Y36(j),o.Y36(o.sBO),o.Y36(O.mF),o.Y36(Q.Is,8),o.Y36(G,12),o.Y36(vt,8))},a.\u0275dir=o.lG2({type:a,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("id",i.id),o.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[o._Bn([{provide:G,useValue:void 0},{provide:yt,useExisting:a}])]}),t})(),Kt=(()=>{var a;class t{}return(a=t).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({providers:[j],imports:[O.ZD]}),t})();var M=m(8126);let Ct=(()=>{var a;class t{}return(a=t).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["sor-stage-add"]],standalone:!0,features:[o.jDz],decls:3,vars:0,consts:[[1,"sor-btn"]],template:function(e,i){1&e&&(o.TgZ(0,"button",0)(1,"mat-icon"),o._uU(2,"add"),o.qZA()())},dependencies:[M.Ps,M.Hw],styles:[":where([_nghost-%COMP%], [_ngcontent-%COMP%]:root){--bgColor: #f6f8fa;--text-color: #3d3e3f;--offset: #e9e8eb;--offset-text: #85909a;--offset-bgColor: #eef2f5;--offset-icon:#9EA3A9;--secondary: #eceff2;--succuss: #3dd598;--accent:#1E1B39;--danger:#FF4B55}.offset-text[_ngcontent-%COMP%]{color:var(--offset-text)}.offset-icon[_ngcontent-%COMP%]{color:var(--offset-icon)!important}.text-succuss[_ngcontent-%COMP%]{color:var(--succuss)}.text-danger[_ngcontent-%COMP%]{color:var(--danger)!important}.chip[_ngcontent-%COMP%]{background-color:transparent;border-radius:3px;box-shadow:2px 2px 5px #0003}.sor-btn[_ngcontent-%COMP%]{background-color:transparent;border-radius:.3em;padding:.3em .6em;border:1px solid transparent;cursor:pointer;transition:.4s}.pointer[_ngcontent-%COMP%]{cursor:pointer!important}button[_ngcontent-%COMP%]{background-color:var(--offset-bgColor)!important;width:100%;font-size:10px;color:var(--offset-text);display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;font-size:2em}@media screen and (max-width: 1255px){button[_ngcontent-%COMP%]{height:100%;width:-moz-fit-content;width:fit-content}}"]}),t})();const Qt=[[["",8,"icon"]],[["",8,"header"]],[["",8,"quantity"]]],Xt=[".icon",".header",".quantity"];let St=(()=>{var a;class t{}return(a=t).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["sor-stage-header"]],standalone:!0,features:[o.jDz],ngContentSelectors:Xt,decls:17,vars:0,consts:[[1,"d-flex"],[1,"w-100","d-flex","gap-2","flex-column","align-items-center"],[1,"icon-container"],[1,"d-flex","gap-3","align-items-center"],[1,"booking","d-flex","align-items-center","gap-1"],["src","assets/images/clipboard.svg","alt","clipboard","width","16px"],[1,"d-flex","justify-content-between"],[1,"px-1"],[1,"sor-btn","offset-text"]],template:function(e,i){1&e&&(o.F$t(Qt),o.TgZ(0,"header",0)(1,"div",1)(2,"div",2),o.Hsn(3),o.qZA(),o.TgZ(4,"div",3)(5,"h6"),o.Hsn(6,1),o.qZA(),o.TgZ(7,"div",4),o._UZ(8,"img",5),o.TgZ(9,"p",6)(10,"span",7),o.Hsn(11,2),o.qZA(),o.TgZ(12,"span"),o._uU(13,"\u062d\u062c\u0632"),o.qZA()()()()(),o.TgZ(14,"button",8)(15,"mat-icon"),o._uU(16," more_horiz"),o.qZA()()())},dependencies:[_.ez,M.Ps,M.Hw],styles:[":where([_nghost-%COMP%], [_ngcontent-%COMP%]:root){--bgColor: #f6f8fa;--text-color: #3d3e3f;--offset: #e9e8eb;--offset-text: #85909a;--offset-bgColor: #eef2f5;--offset-icon:#9EA3A9;--secondary: #eceff2;--succuss: #3dd598;--accent:#1E1B39;--danger:#FF4B55}.offset-text[_ngcontent-%COMP%]{color:var(--offset-text)}.offset-icon[_ngcontent-%COMP%]{color:var(--offset-icon)!important}.text-succuss[_ngcontent-%COMP%]{color:var(--succuss)}.text-danger[_ngcontent-%COMP%]{color:var(--danger)!important}.chip[_ngcontent-%COMP%]{background-color:transparent;border-radius:3px;box-shadow:2px 2px 5px #0003}.sor-btn[_ngcontent-%COMP%]{background-color:transparent;border-radius:.3em;padding:.3em .6em;border:1px solid transparent;cursor:pointer;transition:.4s}.pointer[_ngcontent-%COMP%]{cursor:pointer!important}header[_ngcontent-%COMP%]{font-size:14px;color:--text-color;padding:5px 5px 1em;border-bottom:3px solid white;min-width:240px}header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{background-color:red;width:50px;height:50px;border-radius:100%;background-color:#fff;display:flex;justify-content:center;align-items:center}header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:600}header[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]{font-size:.9em;padding:4px 7px;color:var(--offset-text);background-color:var(--secondary);border-radius:4px;box-shadow:0 0 1px #0003}header[_ngcontent-%COMP%]   .sor-btn[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]}),t})();var Mt=m(2058);class te{constructor(t){this.item=t,this.state=()=>this.item.state}get id(){return this.item.id}get title(){return this.item.title}get cost(){return this.item.cost}get dayMonth(){return new Date(this.item.date).toLocaleDateString("ar",{day:"2-digit",month:"long"})}get timeFrom(){return new Date(this.item.timeFrom).toLocaleTimeString("ar",{hour:"2-digit",minute:"2-digit"})}get timeTo(){return new Date(this.item.timeTo).toLocaleTimeString("ar",{hour:"2-digit",minute:"2-digit"})}get client(){return this.item.client}get stage(){return this.item.status}updateState(t){this.item.state=t}}class ee{constructor(t){this.dealModels=t,this.items={"Contact Made":[],"Getting Ready":[],"Potential Value":[],Focus:[]},this.newItems={"Contact Made":[],"Getting Ready":[],"Potential Value":[],Focus:[]},this.stageInfo={},this.itemsMap()}itemsMap(){this.dealModels.forEach(t=>{this.items[t.stage].push(t)}),this.setupHeaderInfo()}setupHeaderInfo(){for(const t in this.items)this.stageInfo[t]=this.addationlInformation(t)}addationlInformation(t){return"Potential Value"==t?{title:"\u062d\u062c\u0632 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f",quantity:this.items[t].length||0,img:"assets/images/calendar-add.svg"}:"Getting Ready"==t?{title:"\u0645\u0648\u0627\u0639\u064a\u062f \u0645\u0643\u062a\u0645\u0644\u0629",quantity:this.items[t].length||0,img:"assets/images/tick-circle.svg"}:"Focus"==t?{title:"\u062a\u0623\u0643\u064a\u062f \u062d\u062c\u0632 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f",quantity:this.items[t].length||0,img:"assets/images/calender-warn.svg"}:"Contact Made"==t?{title:"\u0645\u0648\u0627\u0639\u064a\u062f \u0645\u0644\u063a\u064a\u0629",quantity:this.items[t].length||0,img:"assets/images/close-circle.svg"}:{title:"",quantity:0,img:""}}}var ie=m(5619),ne=m(2096);const oe=[{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Potential Value",probability_status:"25%",state:"New"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Focus",probability_status:"25%",state:"New"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Contact Made",probability_status:"25%",state:"closed"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Getting Ready",probability_status:"25%",state:"New"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Potential Value",probability_status:"25%",state:"New"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Focus",probability_status:"25%",state:"New"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Contact Made",probability_status:"25%",state:"closed"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Getting Ready",probability_status:"25%",state:"New"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Potential Value",probability_status:"25%",state:"Returning"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Focus",probability_status:"25%",state:"New"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Contact Made",probability_status:"25%",state:"closed"},{id:1,title:"\u0627\u0639\u0627\u062f\u0629 \u0627\u0635\u0644\u0627\u062d \u062f\u0647\u0627\u0646\u0627\u062a",client:{name:"\u0645\u062d\u0633\u0646 \u0627\u0644\u0633\u064a\u062f \u0639\u0631\u0628\u0649",img:"assets/images/profile.png",phone:"01022698856",email:"ftohtarek48@gmail.com"},cost:"500",date:"2023-08-12T20:26:56.024Z",timeFrom:"2023-08-12T12:26:56.024Z",timeTo:"2023-08-12T13:26:56.024Z",status:"Getting Ready",probability_status:"25%",state:"New"}];var ae=m(9862);let re=(()=>{var a;class t{get data(){return this.subject.asObservable()}constructor(e){this.http=e,this.endPointUrl="https://my-json-server.typicode.com/mabukoush1/contacts/db",this.localData={},this.subject=new ie.X("")}get getAll(){return(0,ne.of)(oe)}}return(a=t).\u0275fac=function(e){return new(e||a)(o.LFG(ae.eN))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})();var se=m(719);let ce=(()=>{var a;class t{constructor(e){this.obsrever=e,this.isDesktop=(0,o.tdS)(!1),this.isTablet=(0,o.tdS)(!1),this.isMobile=(0,o.tdS)(!0),this.desktopModeWidth="(min-width: 1255px)",this.tabletModeWidth="(min-width: 769px) and (max-width: 999px)",this.mobileModeWidth="(max-width: 768px)",this.mode=(0,o.tdS)("mobile"),this.obsrever.observe([this.mobileModeWidth,this.desktopModeWidth,this.tabletModeWidth]).subscribe(i=>{let r=!!i.breakpoints[this.desktopModeWidth],s=!!i.breakpoints[this.tabletModeWidth],c=!!i.breakpoints[this.mobileModeWidth];this.isDesktop.update(()=>r),this.isTablet.update(()=>s),this.isMobile.update(()=>c),this.mode.update(()=>r?"desktop":s?"tablet":"mobile")})}}return(a=t).\u0275fac=function(e){return new(e||a)(o.LFG(se.Yg))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})();var Tt=m(3284);function de(a,t){1&a&&o._UZ(0,"img",30)}function le(a,t){1&a&&o._UZ(0,"img",31)}function me(a,t){1&a&&o._UZ(0,"img",32)}let pe=(()=>{var a;class t{}return(a=t).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["sor-stage-card"]],inputs:{deal:"deal"},decls:63,vars:16,consts:[[1,"stage-card","d-flex","flex-column","gap-2"],[1,"header","d-flex","justify-content-between","align-items-center"],[1,"d-flex","gap-2","align-items-center"],["src","assets/images/card/title.svg","alt","title"],["matTooltip","state info","matTooltipClass","tooltip",1,"status"],[1,"material-icons-outlined",3,"ngClass"],[1,"body","d-flex","justify-content-between"],[1,"info","d-flex","align-items-center"],[1,"info-chip"],[1,"material-icons-outlined","text-succuss",3,"ngClass"],[1,"verical-splitter"],[1,"material-icons-outlined","offset-icon"],[1,""],["matTooltip","",1,"sor-btn","timer",3,"matTooltip","matTooltipClass"],[1,"footer","d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","gap-1"],["src","assets/images/avatar.svg","alt",""],[1,"type"],[1,"name"],[1,"phone"],[1,"sor-btn",3,"href"],[1,"material-icons-outlined"],[1,"message"],["target","_blank",1,"sor-btn",3,"href"],[1,"verical-spliter"],["src","assets/images/avatar1.svg","alt",""],[1,"state"],["src","assets/images/complete.svg","alt","",4,"ngIf"],["src","assets/images/stack.svg","alt","",4,"ngIf"],["src","assets/images/Notification.svg","alt","",4,"ngIf"],["src","assets/images/complete.svg","alt",""],["src","assets/images/stack.svg","alt",""],["src","assets/images/Notification.svg","alt",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"img",3),o.TgZ(4,"h6"),o._uU(5),o.qZA()(),o.TgZ(6,"div",4)(7,"i",5),o._uU(8,"info"),o.qZA()()(),o.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"i",9),o._uU(13,"monetization_on"),o.qZA(),o.TgZ(14,"span"),o._uU(15),o.qZA()(),o._UZ(16,"div",10),o.TgZ(17,"div",8)(18,"i",11),o._uU(19," calendar_month"),o.qZA(),o.TgZ(20,"span"),o._uU(21),o.qZA()(),o._UZ(22,"div",10),o.TgZ(23,"div",8)(24,"i",11),o._uU(25,"schedule"),o.qZA(),o.TgZ(26,"span"),o._uU(27),o.qZA(),o.TgZ(28,"span",12),o._uU(29,"-"),o.qZA(),o.TgZ(30,"span"),o._uU(31),o.qZA()()(),o.TgZ(32,"button",13)(33,"i",5),o._uU(34,"timer"),o.qZA()()(),o.TgZ(35,"div",14)(36,"div",15),o._UZ(37,"img",16),o.TgZ(38,"div")(39,"div",17),o._uU(40,"\u0639\u0645\u064a\u0644"),o.qZA(),o.TgZ(41,"div",18),o._uU(42),o.qZA()()(),o.TgZ(43,"div",19)(44,"a",20)(45,"i",21),o._uU(46,"call "),o.qZA()()(),o.TgZ(47,"div",22)(48,"a",23)(49,"i",21),o._uU(50,"forward_to_inbox"),o.qZA()()(),o._UZ(51,"div",24),o.TgZ(52,"div",15),o._UZ(53,"img",25),o.TgZ(54,"div")(55,"div",17),o._uU(56,"\u062f\u0647\u0627\u0646\u0627\u062a"),o.qZA(),o.TgZ(57,"div",18),o._uU(58,"\u0647\u064a\u062b\u0645 \u0645\u062d\u0645\u062f "),o.qZA()()(),o.TgZ(59,"div",26),o.YNc(60,de,1,0,"img",27),o.YNc(61,le,1,0,"img",28),o.YNc(62,me,1,0,"img",29),o.qZA()()()),2&e&&(o.xp6(5),o.Oqu(null==i.deal?null:i.deal.title),o.xp6(2),o.Q6J("ngClass","closed"==(null==i.deal?null:i.deal.state())?"text-danger":"text-succuss"),o.xp6(5),o.Q6J("ngClass","closed"==(null==i.deal?null:i.deal.state())?"text-danger":"text-succuss"),o.xp6(3),o.hij("",null==i.deal?null:i.deal.cost,"$"),o.xp6(6),o.Oqu(null==i.deal?null:i.deal.dayMonth),o.xp6(6),o.Oqu(null==i.deal?null:i.deal.timeFrom),o.xp6(4),o.Oqu(null==i.deal?null:i.deal.timeTo),o.xp6(1),o.Q6J("matTooltip","Info about the action")("matTooltipClass","tooltip"),o.xp6(1),o.Q6J("ngClass","closed"==(null==i.deal?null:i.deal.state())?"offset-icon":"text-succuss"),o.xp6(9),o.Oqu(null==i.deal||null==i.deal.client?null:i.deal.client.name),o.xp6(2),o.MGl("href","tel:",null==i.deal||null==i.deal.client?null:i.deal.client.phone,"",o.LSH),o.xp6(4),o.MGl("href","mailto:",null==i.deal||null==i.deal.client?null:i.deal.client.email,"",o.LSH),o.xp6(12),o.Q6J("ngIf",!1),o.xp6(1),o.Q6J("ngIf","closed"!=(null==i.deal?null:i.deal.state())),o.xp6(1),o.Q6J("ngIf","closed"==(null==i.deal?null:i.deal.state())))},dependencies:[_.mk,_.O5,Tt.gM],styles:[":where([_nghost-%COMP%], [_ngcontent-%COMP%]:root){--bgColor: #f6f8fa;--text-color: #3d3e3f;--offset: #e9e8eb;--offset-text: #85909a;--offset-bgColor: #eef2f5;--offset-icon:#9EA3A9;--secondary: #eceff2;--succuss: #3dd598;--accent:#1E1B39;--danger:#FF4B55}.offset-text[_ngcontent-%COMP%]{color:var(--offset-text)}.offset-icon[_ngcontent-%COMP%]{color:var(--offset-icon)!important}.text-succuss[_ngcontent-%COMP%]{color:var(--succuss)}.text-danger[_ngcontent-%COMP%]{color:var(--danger)!important}.chip[_ngcontent-%COMP%]{background-color:transparent;border-radius:3px;box-shadow:2px 2px 5px #0003}.sor-btn[_ngcontent-%COMP%]{background-color:transparent;border-radius:.3em;padding:.3em .6em;border:1px solid transparent;cursor:pointer;transition:.4s}.pointer[_ngcontent-%COMP%]{cursor:pointer!important}.stage-card[_ngcontent-%COMP%]{min-width:265px;padding:5px;font-size:14px;background-color:#fff;border-radius:5px;box-shadow:0 0 #0003}.header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{color:var(--succuss)}.header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1em;font-weight:600}.body[_ngcontent-%COMP%]   .info-chip[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;gap:.3em;font-weight:600;font-size:.7em}.body[_ngcontent-%COMP%]   .info-chip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5em}.body[_ngcontent-%COMP%]   button.timer[_ngcontent-%COMP%]{padding:0;height:-moz-fit-content;height:fit-content}.footer[_ngcontent-%COMP%]{font-size:.7em}.footer[_ngcontent-%COMP%]   a.sor-btn[_ngcontent-%COMP%]{text-decoration:none;color:var(--offset-text);background-color:#fff;border-radius:100%;padding:0;width:1.8em;height:1.8em;display:flex;justify-content:center;align-items:center;border:1px solid var(--offset-bgColor)}.footer[_ngcontent-%COMP%]   a.sor-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9em}.verical-splitter[_ngcontent-%COMP%]{display:inline-block;height:20px;width:2px;margin:0 .3em;background-color:var(--offset-bgColor)}"]}),t})();function ue(a,t){1&a&&o._UZ(0,"div",14)}function be(a,t){if(1&a&&(o.TgZ(0,"div")(1,"div",15),o._UZ(2,"sor-stage-card",12),o.qZA()()),2&a){const n=o.oxw().$implicit;o.xp6(2),o.Q6J("deal",n)}}function he(a,t){if(1&a){const n=o.EpF();o.TgZ(0,"div",10),o.NdJ("cdkDragStarted",function(){o.CHM(n);const i=o.oxw(2);return o.KtG(i.isDragged=!0)})("cdkDragEnded",function(){o.CHM(n);const i=o.oxw(2);return o.KtG(i.isDragged=!1)}),o.YNc(1,ue,1,0,"div",11),o._UZ(2,"sor-stage-card",12),o.YNc(3,be,3,1,"ng-template",13),o.qZA()}if(2&a){const n=t.$implicit;o.xp6(2),o.Q6J("deal",n)}}function ge(a,t){1&a&&o._UZ(0,"div",16)}function fe(a,t){if(1&a){const n=o.EpF();o.TgZ(0,"div",2)(1,"div",3),o.NdJ("cdkDropListDropped",function(i){const s=o.CHM(n).$implicit,c=o.oxw();return o.KtG(c.drop(i,s))}),o.TgZ(2,"sor-stage-header")(3,"div",4),o._UZ(4,"img",5),o.qZA(),o.TgZ(5,"div",6),o._uU(6),o.qZA(),o.TgZ(7,"div",7),o._uU(8),o.qZA()(),o.TgZ(9,"div"),o._UZ(10,"sor-stage-add"),o.qZA(),o.YNc(11,he,4,1,"div",8),o.qZA(),o.YNc(12,ge,1,0,"div",9),o.qZA()}if(2&a){const n=t.$implicit,e=t.index,i=o.oxw();o.xp6(1),o.Q6J("cdkDropListOrientation",i.deviceMode.isDesktop()?"vertical":"horizontal")("cdkDropListData",i.stages.items[n])("id",n),o.xp6(3),o.Q6J("src",i.stages.stageInfo[n].img,o.LSH),o.xp6(2),o.Oqu(i.stages.stageInfo[n].title),o.xp6(2),o.Oqu(i.stages.stageInfo[n].quantity),o.xp6(3),o.Q6J("ngForOf",i.stages.items[n]),o.xp6(1),o.Q6J("ngIf",3!=e)}}const _e=[{path:"",component:(()=>{var a;class t{constructor(e,i){this.dealApi=e,this.deviceMode=i,this.stagesHeader=["Potential Value","Focus","Getting Ready","Contact Made"],this.deals=[],this.stages={},this.isDragged=!1}ngOnInit(){this.dealApi.getAll.subscribe(e=>{this.deals=e.map(i=>new te(i)),this.stages=new ee(this.deals)})}drop(e,i){if(e.previousContainer===e.container)mt(e.container.data,e.previousIndex,e.currentIndex);else{let r=this.stages.items[i][e.currentIndex]?.state();r&&(this.stages.items[e.previousContainer.id][e.previousIndex]?.updateState(this.stages.items[e.container.id][e.currentIndex]?.state()),this.stages.items[i][e.currentIndex].updateState(r)),function Ht(a,t,n,e){const i=S(n,a.length-1),r=S(e,t.length);a.length&&t.splice(r,0,a.splice(i,1)[0])}(this.stages.items[e.previousContainer.id],this.stages.items[i],e.previousIndex,e.currentIndex)}console.log(this.stages),this.stages.setupHeaderInfo()}}return(a=t).\u0275fac=function(e){return new(e||a)(o.Y36(re),o.Y36(ce))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-crm-managment"]],decls:2,vars:3,consts:[["cdkDropListGroup","",1,"host"],["class","stage-container",4,"ngFor","ngForOf"],[1,"stage-container"],["cdkDropList","",1,"stage","p-1",3,"cdkDropListOrientation","cdkDropListData","id","cdkDropListDropped"],[1,"icon"],["alt","",3,"src"],[1,"header"],[1,"quantity"],["class","drag-box","cdkDrag","",3,"cdkDragStarted","cdkDragEnded",4,"ngFor","ngForOf"],["class","spliter mx-2",4,"ngIf"],["cdkDrag","",1,"drag-box",3,"cdkDragStarted","cdkDragEnded"],["class","placeholder",4,"cdkDragPlaceholder"],[3,"deal"],["cdkDragPreview","","matchSize",""],[1,"placeholder"],[1,"statge-drag-preview"],[1,"spliter","mx-2"]],template:function(e,i){1&e&&(o.TgZ(0,"section",0),o.YNc(1,fe,13,8,"div",1),o.qZA()),2&e&&(o.ekj("is-dragging",i.isDragged),o.xp6(1),o.Q6J("ngForOf",i.stagesHeader))},dependencies:[_.sg,_.O5,Pt,wt,Dt,xt,ft,St,Ct,pe],styles:[":where([_nghost-%COMP%], [_ngcontent-%COMP%]:root){--bgColor: #f6f8fa;--text-color: #3d3e3f;--offset: #e9e8eb;--offset-text: #85909a;--offset-bgColor: #eef2f5;--offset-icon:#9EA3A9;--secondary: #eceff2;--succuss: #3dd598;--accent:#1E1B39;--danger:#FF4B55}.offset-text[_ngcontent-%COMP%]{color:var(--offset-text)}.offset-icon[_ngcontent-%COMP%]{color:var(--offset-icon)!important}.text-succuss[_ngcontent-%COMP%]{color:var(--succuss)}.text-danger[_ngcontent-%COMP%]{color:var(--danger)!important}.chip[_ngcontent-%COMP%]{background-color:transparent;border-radius:3px;box-shadow:2px 2px 5px #0003}.sor-btn[_ngcontent-%COMP%]{background-color:transparent;border-radius:.3em;padding:.3em .6em;border:1px solid transparent;cursor:pointer;transition:.4s}.pointer[_ngcontent-%COMP%]{cursor:pointer!important}section.host[_ngcontent-%COMP%]{display:flex;justify-content:space-between}section.host[_ngcontent-%COMP%]   .stage-container[_ngcontent-%COMP%]{display:flex;width:100%}section.host[_ngcontent-%COMP%]   .stage-container[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:100%}.is-dragging[_ngcontent-%COMP%]{cursor:grabbing!important}.statge-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;border-radius:10px}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .2s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]   .statge-drag-preview[_ngcontent-%COMP%]{transform:rotate(0)!important;transition:all .2s cubic-bezier(0,0,.2,1)}.placeholder[_ngcontent-%COMP%]{background:#a5a4a4;border:dotted 3px #747373;width:99%;height:100px;transition:transform .2s cubic-bezier(0,0,.2,1)}.drag-box[_ngcontent-%COMP%]{margin-bottom:10px}.spliter[_ngcontent-%COMP%]{background-color:var(--offset);width:1.5px;height:95%}@media screen and (max-width: 1255px){section.host[_ngcontent-%COMP%]{flex-direction:column}section.host[_ngcontent-%COMP%]   .stage-container[_ngcontent-%COMP%]{flex-direction:column}section.host[_ngcontent-%COMP%]   .stage-container[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]{flex-direction:row;overflow-x:scroll}section.host[_ngcontent-%COMP%]   .stage-container[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:3px;scrollbar-width:thin!important}section.host[_ngcontent-%COMP%]   .stage-container[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:3px!important;background-color:var(--accent)}section.host[_ngcontent-%COMP%]   .stage-container[_ngcontent-%COMP%]   .spliter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:2px}section.host[_ngcontent-%COMP%]   .stage-container[_ngcontent-%COMP%]   .stage-raw[_ngcontent-%COMP%]{display:flex;gap:.6em;overflow-x:scroll}.placeholder[_ngcontent-%COMP%]{padding:0 50px}}"]}),t})()}];let xe=(()=>{var a;class t{}return(a=t).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[Mt.Bz.forChild(_e),Mt.Bz]}),t})();var V=m(3680);let De=(()=>{var a;class t{}return(a=t).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[V.BQ,V.si,V.BQ]}),t})(),we=(()=>{var a;class t{}return(a=t).\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[_.ez,xe,Kt,St,Ct,De,Tt.AV,M.Ps]}),t})()}}]);